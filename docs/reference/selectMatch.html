<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Carries out a two-level sample selection where the possibility of an initially selected
site not wanting to participate is anticipated, and the site is optimally replaced. 
The procedure aims to reduce the bias (and/or loss of generalizability) with respect to the target population."><title>Two-level sample selection — selectMatch • sitepickR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Two-level sample selection — selectMatch"><meta property="og:description" content="Carries out a two-level sample selection where the possibility of an initially selected
site not wanting to participate is anticipated, and the site is optimally replaced. 
The procedure aims to reduce the bias (and/or loss of generalizability) with respect to the target population."><meta property="og:image" content="https://sitepickr.com/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sitepickR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/sitepickR-demo.html">sitePickR: Getting Started</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Two-level sample selection</h1>
      
      <div class="d-none name"><code>selectMatch.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Carries out a two-level sample selection where the possibility of an initially selected
site not wanting to participate is anticipated, and the site is optimally replaced. 
The procedure aims to reduce the bias (and/or loss of generalizability) with respect to the target population.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">selectMatch</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">unit_ID</span>,</span>
<span>  <span class="va">subUnit_ID</span>,</span>
<span>  <span class="va">subUnit_samp_vars</span>,</span>
<span>  <span class="va">unit_vars</span>,</span>
<span>  <span class="va">nUnitSamp</span>,</span>
<span>  <span class="va">nRepUnits</span>,</span>
<span>  <span class="va">nsubUnits</span>,</span>
<span>  exact_match_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  calip_match_vars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  calipValue <span class="op">=</span> <span class="fl">0.2</span>,</span>
<span>  seedN <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  matchDistance <span class="op">=</span> <span class="st">"mahalanobis"</span>,</span>
<span>  sizeFlag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  replaceFlag <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  writeOut <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  replacementUnitsFilename <span class="op">=</span> <span class="st">"replacementUnits.csv"</span>,</span>
<span>  subUnitTableFilename <span class="op">=</span> <span class="st">"subUnitTable.csv"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>dataframe; sub-unit level dataframe with both sub-unit and unit level variables</p></dd>


<dt>unit_ID</dt>
<dd><p>character; name of unit ID column</p></dd>


<dt>subUnit_ID</dt>
<dd><p>character; name of sub-unit ID column</p></dd>


<dt>subUnit_samp_vars</dt>
<dd><p>vector;  column names of unit level variables  to sample units on</p></dd>


<dt>unit_vars</dt>
<dd><p>vector; column names of unit level variables  to match units on</p></dd>


<dt>nUnitSamp</dt>
<dd><p>numeric; number of units to be initially randomly selected</p></dd>


<dt>nRepUnits</dt>
<dd><p>numeric; number of replacement units to find for each selected unit</p></dd>


<dt>nsubUnits</dt>
<dd><p>numeric; number of sub-units to be randomly selected for each unit</p></dd>


<dt>exact_match_vars</dt>
<dd><p>vector; column names of categorical variables on which units must be matched exactly. Must be present in 'unit_vars'; default = NULL</p></dd>


<dt>calip_match_vars</dt>
<dd><p>vector; column names of continuous variables on which units must be matched within a specified caliper. Must be present in 'unit_vars'; default = NULL</p></dd>


<dt>calipValue</dt>
<dd><p>numeric; number of standard deviations to be used as caliper for matching units on calip_match_vars</p></dd>


<dt>seedN</dt>
<dd><p>numeric; seed number to be used for sampling. If NA, calls set.seed(); default = NA</p></dd>


<dt>matchDistance</dt>
<dd><p>character; MatchIt::matchit distance parameter to obtain optimal matches (nearest neigboors); default = "mahalanois"</p></dd>


<dt>sizeFlag</dt>
<dd><p>logical; if TRUE, sampling is made proportional to unit size; default = TRUE</p></dd>


<dt>replaceFlag</dt>
<dd><p>logical; if TRUE, get matches with replacement; default = TRUE</p></dd>


<dt>writeOut</dt>
<dd><p>logical; if TRUE, writes a .csv file for each output table; default = TRUE</p></dd>


<dt>replacementUnitsFilename</dt>
<dd><p>character; csv filename for saving unit:replacement directory when writeOut == TRUE; default = "replacementUnits.csv"</p></dd>


<dt>subUnitTableFilename</dt>
<dd><p>character; csv filename for saving unit:replacement directory when writeOut == TRUE; default = "subUnitTable.csv"</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>list with: 1) table of the form: selected unit i: (unit i replacements), 2) table of the form: potential unit i:(unit i sub-units), 3) balance diagnostics.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Elena Badillo-Goicoechea.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer></div>

  

  

  </body></html>

