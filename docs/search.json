[{"path":"/articles/sitepickR-demo.html","id":"getting-started-sampling-ay-2017-18-california-schools-and-districts","dir":"Articles","previous_headings":"","what":"Getting Started: Sampling AY 2017-18 California schools and districts","title":"sitePickR: Getting Started","text":"Elena Badillo-Goicoechea, Robert Olsen, Elizabeth . Stuart 2022-09-16","code":""},{"path":"/articles/sitepickR-demo.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"sitePickR: Getting Started","text":"sitepickR designed select representative sample sites prospective impact evaluation, randomized controlled trial (RCT). main function package, selectMatch() lets user carry two-level sample selection possibility initially selected unit wanting participate anticipated. procedure aims reduce bias (/loss generalizability target population) introduce. selecting units sub-units, sitepickR uses cube method (e.g., Deville & Tillé, 2004; Tillé 2011). cube method probability sampling method designed satisfy criteria balance sample population. Recent research shown method performs well simulations studies educational programs (Fay & Olsen, review). implement cube method, sitepickerR uses sampling R package. Users option select units equal probabilities probabilities proportional “size” measured terms number sub-units nested within units. addition, sitepickR uses statistical matching select possible replacement units. education RCTs, share selected districts agrees participate tends low. address challenge, sitepickR selects ranks K replacement districts districts selected using cube method. Replacement districts selected using statistical matching based propensity score methods. implement statistical matching, sitepickR uses MatchIt R package. sitepickR’s core sampling + matching procedure, implemented selectMatch() function, consists four main steps: Study sample design, : Identify target population unit : sub-unit nested structure (e.g. [district : schools district ]) Set key parameter values (e.g. initial sample size, desired number matches per unit) Specify set observable covariates interest unit level Specify set sub-unit level observable covariates interest Select random sample units target population. Obtain list best K matches initially selected unit, match . 1 closest given original unit match . K furthest, terms covariates interest key parameter values. K matches potential replacement units initially selected unit, case corresponding original unit unable participate study, taken (without repetition, can set repFlag argument) pool units get selected initial random sampling procedure. Balance initially selected (‘original’) units target population. Balance original units group matches (1 K, closest furthest). Number successful matches obtained procedure, given restrictions imposed. Balance sub-units associated unit replacement group original sub-units population, terms available covariates interest, unit sub-unit level. vignette guide reader, step--step, sitepickR’s basic functionalities, data Common Core Data (CCD) California schools (2017-18), using pre-processed dataset included package installation. Technical details package’s main functions sample dataset included documentation, reader encouraged consult, necessary.","code":""},{"path":"/articles/sitepickR-demo.html","id":"common-core-of-data","dir":"Articles","previous_headings":"","what":"Common Core of Data","title":"sitePickR: Getting Started","text":"CCD U.S. Department Education’s primary database public elementary secondary education United States. CCD comprehensive, annual, national database public elementary secondary schools school districts. addition administrative data, provides relevant information schools districts, disaggregated demographics (grade, race/ethnicity, sex) socioeconomic factors (school-level counts student eligible free reduced-price lunches).","code":""},{"path":"/articles/sitepickR-demo.html","id":"package-and-data-set-up","dir":"Articles","previous_headings":"","what":"Package and data set up","title":"sitePickR: Getting Started","text":"First, needed, install sitepickR package help devtools: load package calling library: Now let’s load sample CCD-California 2017-18 dataset comes package: Process sample aggregate dataset order exact format expected selectMatch using sitepckr prepDF() function. simple step re-define key variables, create new variable, ‘unitSize’, used step selectMatch procedure units initially selected. Specifically, cube sampling method implicit selectMatch allows us select units way biased number sub-units (usually want impose). explained detail section sampling documentation. matters , , created unitSize column, selectMatch can let sampling step correct size setting sizeFlag input TRUE.","code":"if(!require(devtools)){     install.packages(\"devtools\", repos = \"http://cran.us.r-project.org\") }  if(!require(sitepickR)){     devtools::install_github(\"ElenaBadilloG/sitepickR\")     } library(sitepickR) rawCCD <- sitepickR::rawCCD knitr::kable(head(rawCCD), format = \"html\") dfCCD <- prepDF(rawCCD,                  unitID=\"LEAID\", subunitID=\"NCESSCH\") knitr::kable(dfCCD[1:10,(ncol(dfCCD)-5-1):ncol(dfCCD)], format = \"html\")"},{"path":[]},{"path":"/articles/sitepickR-demo.html","id":"define-key-input-values","dir":"Articles","previous_headings":"Study sample design","what":"Define key input values","title":"sitePickR: Getting Started","text":"Since underlying random sampling selectMatch, can set seed replication purposes (optional): Set distance tolerance restricted covariates:","code":"seed <- 1122 calip <- 0.2 # maximum standard deviations of covariate distance around target population"},{"path":"/articles/sitepickR-demo.html","id":"set-output-sample-sizes","dir":"Articles","previous_headings":"Study sample design > Define key input values","what":"Set output sample sizes","title":"sitePickR: Getting Started","text":"Set size : 1) initial unit (“district”, example) sample, Nu; 2) number desired matches per unit, K; 3) number sub-units (“schools”, example) randomly selected potential unit:","code":"Nu <- 100 # district sample size K <- 10 # number of matches per district Ns <- 5 # number of schools per potential district"},{"path":"/articles/sitepickR-demo.html","id":"specify-covariates-of-interest","dir":"Articles","previous_headings":"Study sample design","what":"Specify covariates of interest","title":"sitePickR: Getting Started","text":"Now, specify unit level covariates ’ll want match selected units (“districts” ) replacement candidates non-selected sample: Similarly, specify sub-unit (“school”) level covariates ’ll want match districts. CCD example, covariates just school level aggregates conceptually district level underlying variable (e.g. percent Hispanic students). However, sub-unit level variables available dataset, necessarily expressing variable unit level covariate. can (optionally) specify covariates exactly match units. usually categorical covariates, relatively categories –otherwise matching fail, restrictive even empty: Similarly, can optionally specify covariates match units within given numeric caliper, terms standard deviations. covariates expected numeric variables. case, interested caliper-matching three numeric covariates: percentage Black, Hispanic, female students district. Notice lower caliper, restrictive matching (result ferwe proportion successful matches per replacement group, even empty ones):","code":"uSampVarsCCD <- c(\"w.pct.frlunch\", \"w.pct.black\", \"w.pct.hisp\", \"w.pct.female\") suSampVarsCCD <- c(\"sch.pct.frlunch\", \"sch.pct.black\", \"sch.pct.hisp\", \"sch.pct.female\") exactMatchVars <-  c(\"distr.type\") calipMatchVars <-  c(\"w.pct.black\", \"w.pct.hisp\", \"w.pct.female\")"},{"path":"/articles/sitepickR-demo.html","id":"get-unit-matches","dir":"Articles","previous_headings":"","what":"Get unit matches","title":"sitePickR: Getting Started","text":"’ll now leverage sampling + MatchIt packages joint functionality, match districts candidate replacements among non-initially selected units using Mahalanobis distance. also using propensity scores, specified MatchIt’s documentation, output structure exacrtly : point, two main outputs selectMatch procedure produced, stored inside object ’ ‘ve just defined ’smOut’. example, two main outputs : table 10 matches (replacement candidates) 100 school districts initially selected. matches ordered least ‘similar’ original district (‘similar’ close, terms covariate distance). table 5 (less, less 5 schools available given district) randomly (applicable) selected schools 100 original 100 x 10 candidate districts. course, 5 schools sampled exclusively belong school district: two tables can automatically stored .csv files local computer, simply setting writeOut = TRUE main function call selectMatch. case use feature, can given two files specific name, using [replacementUnitsFilename][repFlag](https://sitepickr.github.io/sitepickR-website/reference/selectMatch.html) [subUnitTableFilename][repFlag](https://sitepickr.github.io/sitepickR-website/reference/selectMatch.html) selectMatch arguments (just keeping default values).","code":"smOut <- selectMatch(df = dfCCD, # user dataset                        unitID = \"LEAID\", # column name of unit ID in user dataset                        subunitID = \"NCESSCH\", # column name of sub-unit ID in user dataset                        unitVars = uSampVarsCCD, # name of unit level covariate columns                        subunitSampVars = suSampVarsCCD, # name of sub-unit level covariate columns                        exactMatchVars = exactMatchVars, # unit level categorical covariates on which to match exactly                        calipMatchVars = calipMatchVars, # unit level numeric covariates on which to match within a radius                        nUnitSamp = Nu, # original unit sample size                        nRepUnits = K, # number of desired matches per initially selected unit                        nsubUnits = Ns, # number of sub-units to sample from each candidate unit                        calipValue = calip, # maximum distance on which to match specified unit level covariates (calipMatchVars)                        seedN = seed, # random seed number                        matchDistance = \"mahalanobis\", # metric used for matching units                        sizeFlag = TRUE,                        repFlag = FALSE, # pick matches without repetition                        writeOut = FALSE, # write out a csv file for: 1) matched units and 2) selected sub-units                        replacementUnitsFilename = \"replacementsTable.csv\", # filename for {districtA: [districtA replacement list]} table                        subUnitTableFilename = \"schoolsDirectory.csv\" # filename for {districtA: [districtA schools]} table ) districtReplTable <- smOut[[1]] knitr::kable(head(districtReplTable), format = \"html\") schoolDirectory <- smOut[[2]] knitr::kable(head(dplyr::filter(schoolDirectory, !is.na(Sub_unit5_ID))), format = \"html\")"},{"path":"/articles/sitepickR-demo.html","id":"assess-balance-and-match-quality","dir":"Articles","previous_headings":"","what":"Assess balance and match quality","title":"sitePickR: Getting Started","text":"Now potential districts replacements, ’d like know ‘similar’ really target population originally selected sample. Similarly, ’d like know well schools belong districts represent schools target population, terms covariates interest. end, want able retain original representativensess (imposed initial random sampling step) study design much possible, even units “self-select”. sitepickR provides user several functions carry balance diagnostics. default –following standard literature– balance diagnostics sitepickR expressed terms standardized mean difference (SMD) two comparison groups interest. case, two comparison groups ’ll : 1) initially selected districts (schools) target population; 2) initially selected districts (schools) 10 district replacement groups. addition, sitepickR functions find ‘successful’ matching procedure , terms often possible find exactly K, K-1, …, 1, 0 matches original units –possibly indicating asking ‘much’ terms maximum distance, exact matching constraints, thus, letting us re-adjust parameters accordingly.","code":""},{"path":"/articles/sitepickR-demo.html","id":"original-units-vs--target-population","dir":"Articles","previous_headings":"Assess balance and match quality","what":"1. Original units vs. target population","title":"sitePickR: Getting Started","text":"First, want look overall balance initially selected districts (.e. group districts selected initial cube sampling step selectMatch procedure) districts population. matching taken place point (, technically, selectMatch done job yet), might still interest look initial balance, order benchmark quality subsequent matches:  can also take look table actual SMD covariate interest applying getSummary() function, takes :","code":"unitLovePlot(smOut,    title = \"Standardized Mean Difference: \\n Initially Selected Units vs. Population\") unitBalanceTab <- getSummary(smOut, diagnostic=\"unitBal\")  knitr::kable(head(unitBalanceTab, 10), format = \"html\")"},{"path":"/articles/sitepickR-demo.html","id":"original-units-vs--replacement-candidates","dir":"Articles","previous_headings":"Assess balance and match quality","what":"2. Original units vs. replacement candidates","title":"sitePickR: Getting Started","text":"Now, assess quality resulting district matches, look balance (terms SMD) group initially selected districts K replacement districts groups, group 1 composed first closest matches ordered terms distance, group 2 corresponds second-best matches, :  Overall, expect SMD increase 1 K. However, decrease necessarily monotonic covariate (recall distance computed covariates, simultaneously!). diagnostic quite interesting relevant since lets us know quality matching replacement group covariate separately. way can know strengths weaknesses final study sample. addition, let’s us diagnose strict matching restrictions overall, given data. steeper curve indicate rapidly match quality rapidly deteriorating go K-1 K best replacement, flatter one indicate pretty much candidate matches similarly good.","code":"matchBalance(smOut,    title = \"Standardized Mean Difference: Replacement Unit Groups (1...K) vs. Originally Selected Units\") matchBalanceTab <- getSummary(smOut, diagnostic=\"matchBal\") knitr::kable(head(matchBalanceTab, 20), format = \"html\")"},{"path":"/articles/sitepickR-demo.html","id":"successful-matches","dir":"Articles","previous_headings":"Assess balance and match quality","what":"3. Successful matches","title":"sitePickR: Getting Started","text":"Besides inspecting balance metrics, might want look many matches actually computed original units. sitepickR lets us ways: matchFreq(): distribution successful matches across original units. frequency (1 K) computed matches initially selected sub-population. gives us idea successful matching procedure , overall. matchCount(): number successful matches original districts replacement candidate districts non-selected pool, K replacements groups (default sorted least similar 1…K). group best matches (.e. Replacement group 1), many matches computed selectMatch, many group second-best matches, . gives us idea restrictive parameter settings , taken together, given dataset structure. specifically, number matches replacement group expected : 1) decreasing K, number matches (.e. replacement candidates) asking , inversely related restrictions imposed exact matching, caliper value, inherent structure size data.","code":""},{"path":"/articles/sitepickR-demo.html","id":"match-histogram","dir":"Articles","previous_headings":"Assess balance and match quality > 3. Successful matches","what":"3.1 Match histogram","title":"sitePickR: Getting Started","text":"First, let’s look overall match frequency original units got, overall:","code":"matchFreq(smOut,              title=\"Match Frequency per Original Unit\")"},{"path":"/articles/sitepickR-demo.html","id":"successfully-computed-unit-matches-per-unit-group-1k","dir":"Articles","previous_headings":"Assess balance and match quality > 3. Successful matches","what":"3.2 Successfully computed unit matches per unit group (1…K)","title":"sitePickR: Getting Started","text":"Now let’s examine percent matches replacement group, sorted closest furthest units. , 100% replacement group 1 means units got best-match matches successful, 50% replacement group 2 means half original units got 2nd best match, :  , can, use getSummary() access stats directly table:","code":"matchCount(smOut,              title=\"% of Successful Matches per Unit Group\") matchFreqTab <- getSummary(smOut, diagnostic=\"matchFreq\")  knitr::kable(matchFreqTab, format = \"html\") matchCountTab <- getSummary(smOut, diagnostic=\"matchCount\")  knitr::kable(matchCountTab, format = \"html\")"},{"path":"/articles/sitepickR-demo.html","id":"sub-units-from-original-vs--candidate-units","dir":"Articles","previous_headings":"Assess balance and match quality","what":"4. Sub-units from original vs. candidate units","title":"sitePickR: Getting Started","text":"Ultimately, procedure wants yield just districts, schools similar target population, terms specified covariates interest (district school level ones). sitepickR’s subUnitBalance() function lets us assess balance precisely terms:  Similary, use getSummary() function obtain balance directly table:","code":"subUnitBalance(smOut,      title=\"Standardized Mean Difference: \\n Sub-units from Original + Replacement Unit Groups vs. Population\") subUnitBalanceTab <- getSummary(smOut, diagnostic=\"subunitBal\") knitr::kable(subUnitBalanceTab, format = \"html\")"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Elena Badillo-Goicoechea. Author, maintainer. Robert Olsen. Author. Elizabeth Stuart. Author.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Badillo-Goicoechea E, Olsen R, Stuart E (2022). sitepickR: Two-level Sample Selection Optimal Site Replacement. R package version 0.0.1.","code":"@Manual{,   title = {sitepickR: Two-level Sample Selection with Optimal Site Replacement},   author = {Elena Badillo-Goicoechea and Robert Olsen and Elizabeth Stuart},   year = {2022},   note = {R package version 0.0.1}, }"},{"path":[]},{"path":"/index.html","id":"sitepickr-a-generalizability-r-package","dir":"","previous_headings":"","what":"sitepickR: A Generalizability R package","title":"Two-level Sample Selection with Optimal Site Replacement","text":"Elena Badillo-Goicoechea, Robert Olsen, Elizabeth . Stuart (2022)","code":""},{"path":"/index.html","id":"introduction","dir":"","previous_headings":"","what":"Introduction","title":"Two-level Sample Selection with Optimal Site Replacement","text":"sitepickR designed select representative sample sites prospective impact evaluation, randomized controlled trial (RCT). package designed selecting schools can used select type site defined geography administrative responsibility (e.g., county, job training center, health clinic). addition, sitepicker designed select sites two stages —first “units” contain multiple sites located nearby /administration “sub-units” containing individual sites. Two-stage sampling may necessary cost study depend number units (e.g., school districts), one-stage sample sub-units (e.g., schools) likely contain units study can afford. , main function package, selectMatch() lets user carry two-level sample selection possibility initially selected participant wanting participate anticipated. procedure aims reduce bias (/loss generalizability population) introduce. enhances functionality related packages, generalizeR. selecting units sub-units, sitepickR uses cube method (e.g., Deville & Tillé, 2004; Tillé 2011). cube method probability sampling method designed satisfy criteria balance sample population. Recent research shown method performs well simulations studies educational programs (Fay & Olsen, review). implement cube method, sitepickerR uses sampling R package. Users option select units equal probabilities probabilities proportional “size” measured terms number sub-units nested within units. addition, sitepickR uses statistical matching select possible replacement units. education RCTs, share selected districts agrees participate tends low. address challenge, sitepickR selects ranks K replacement districts districts selected using cube method. Replacement districts selected using statistical matching based propensity score methods. implement statistical matching, sitepickR uses MatchIt R package.","code":""},{"path":"/index.html","id":"usage","dir":"","previous_headings":"","what":"Usage","title":"Two-level Sample Selection with Optimal Site Replacement","text":"Install seamlessly using devtools package: sitepickR’s core sampling + matching procedure, implemented selectMatch() function, consists four main steps: Study sample design: identify: 1) target population nested structure (e.g. [school district:school]); 2) observable covariates interest unit level; 3) observable covariates interest sub-unit level. Randomly select initial sample units target population. Obtain list ‘best’ matches (e.g. replacement candidates) initially selected unit, terms covariates interest. Balance initially selected (‘original’) units target population. Balance original units group matches (1 K, closest ). Balance sub-units associated unit replacement group original sub-units population, terms available covariates interest, unit sub-unit level. ## References Deville, J. C., & Tillé, Y. (2004). Efficient balanced sampling: cube method. Biometrika, 91, 893-912. Tillé, Y. (2011). Ten years balanced sampling cube method: appraisal. Survey Methodology, 37, 215-226.","code":"if(!require(devtools)){     install.packages(\"devtools\", repos = \"http://cran.us.r-project.org\")     }  devtools::install_github(\"ElenaBadilloG/sitepickR\")"},{"path":"/index.html","id":"questionstroubleshooting","dir":"","previous_headings":"","what":"Questions/troubleshooting?","title":"Two-level Sample Selection with Optimal Site Replacement","text":"Reach : - egoicoe1@jhu.edu - robolsen@gwu.edu - estuart@jhu.edu","code":""},{"path":"/index.html","id":"acknowledgements","dir":"","previous_headings":"","what":"Acknowledgements","title":"Two-level Sample Selection with Optimal Site Replacement","text":"Noah Greifer, maintainer MatchIt package valuable input.","code":""},{"path":"/reference/getSummary.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary tables — getSummary","title":"Summary tables — getSummary","text":"Build summary tables, unit/match/sub-unit balance initially selected units target population, covariate interest","code":""},{"path":"/reference/getSummary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary tables — getSummary","text":"","code":"getSummary(smOut, diagnostic)"},{"path":"/reference/getSummary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary tables — getSummary","text":"smOut list; selectMatch() output diagnostic numeric; balance Diagnostic: \"unitBal\" = original unit balance, \"matchBal\" = match balance, \"matchFreq\" = sucessful match frequency, \"matchCount\" = match success count replacement group, \"subunitBal\" =sub-unit balance","code":""},{"path":"/reference/getSummary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary tables — getSummary","text":"ggplot object","code":""},{"path":"/reference/makeDF.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare nested dataset — makeDF","title":"Prepare nested dataset — makeDF","text":"Prepare nested dataset","code":""},{"path":"/reference/makeDF.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare nested dataset — makeDF","text":"","code":"makeDF(df, unitID, subunitID)"},{"path":"/reference/makeDF.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare nested dataset — makeDF","text":"df dataframe unitID character; unit column name original dataset subunitID character; sub-unit column name original dataset","code":""},{"path":"/reference/makeDF.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare nested dataset — makeDF","text":"processed dataframe","code":""},{"path":"/reference/matchBalance.html","id":null,"dir":"Reference","previous_headings":"","what":"Match balance — matchBalance","title":"Match balance — matchBalance","text":"Balance initially sampled units K matches, covariate interest","code":""},{"path":"/reference/matchBalance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match balance — matchBalance","text":"","code":"matchBalance(   smOut,   title =     \"Standardized Mean Difference: Replacement Unit Groups (1...K) vs. Originally Selected Units\" )"},{"path":"/reference/matchBalance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match balance — matchBalance","text":"smOut list; selectMatch() output title character; user-specified figure title","code":""},{"path":"/reference/matchBalance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match balance — matchBalance","text":"ggplot object","code":""},{"path":"/reference/matchCount.html","id":null,"dir":"Reference","previous_headings":"","what":"Successful matches for each replacement group — matchCount","title":"Successful matches for each replacement group — matchCount","text":"Percentage successful matches unit replacement group, 1...K","code":""},{"path":"/reference/matchCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Successful matches for each replacement group — matchCount","text":"","code":"matchCount(smtchOut, title = \"Percentage of Successful Matches per Unit Group\")"},{"path":"/reference/matchCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Successful matches for each replacement group — matchCount","text":"title character; user-specified figure title smOut list; selectMatch() output","code":""},{"path":"/reference/matchCount.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Successful matches for each replacement group — matchCount","text":"ggplot object","code":""},{"path":"/reference/matchFreq.html","id":null,"dir":"Reference","previous_headings":"","what":"Match frequency — matchFreq","title":"Match frequency — matchFreq","text":"Distribution successful matches among original units","code":""},{"path":"/reference/matchFreq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Match frequency — matchFreq","text":"","code":"matchFreq(smOut, title = \"Match Frequency per Original Unit\")"},{"path":"/reference/matchFreq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Match frequency — matchFreq","text":"smOut list; selectMatch() output title character; user-specified figure title","code":""},{"path":"/reference/matchFreq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Match frequency — matchFreq","text":"ggplot object","code":""},{"path":"/reference/prepDF.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare nested dataset — prepDF","title":"Prepare nested dataset — prepDF","text":"Prepare nested dataset","code":""},{"path":"/reference/prepDF.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare nested dataset — prepDF","text":"","code":"prepDF(df, unitID, subunitID)"},{"path":"/reference/prepDF.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare nested dataset — prepDF","text":"df dataframe unitID character; unit column name original dataset subunitID character; sub-unit column name original dataset","code":""},{"path":"/reference/prepDF.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare nested dataset — prepDF","text":"processed dataframe","code":""},{"path":"/reference/rawCCD.html","id":null,"dir":"Reference","previous_headings":"","what":"Common Core of Data (CCD) data for California schools (2017-18). — rawCCD","title":"Common Core of Data (CCD) data for California schools (2017-18). — rawCCD","text":"pre-processed dataset containing key variables administrative data compiled CCD, aggregated  district school level public schools California 2017 2018 school years.","code":""},{"path":"/reference/rawCCD.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Common Core of Data (CCD) data for California schools (2017-18). — rawCCD","text":"","code":"data(rawCCD)"},{"path":"/reference/rawCCD.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Common Core of Data (CCD) data for California schools (2017-18). — rawCCD","text":"data frame 1890 rows 11 variables. LEAID school district unique identifier NCESSCH school unique identifier w.pct.frlunch percentage students school district free/reduced price lunch program; weighted school size. w.pct.black percentage students school district Black; weighted school size. w.pct.hisp percentage students school district Hispanic; weighted school size. w.pct.female percentage students school district female; weighted school size. sch.pct.frlunch percentage students school free/reduced price lunch program. sch.pct.black percentage students school Black. sch.pct.hisp percentage students school Hispanic. sch.pct.female percentage students school female. distr.type categorical  district type (artificially created illustration purposes; (values=\"\", \"B\", \"C\", \"D\")).","code":""},{"path":"/reference/rawCCD.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Common Core of Data (CCD) data for California schools (2017-18). — rawCCD","text":"https://nces.ed.gov/ccd/files.asp#FileNameId:15,VersionId:10,FileSchoolYearId:33,Page:1","code":""},{"path":"/reference/selectMatch.html","id":null,"dir":"Reference","previous_headings":"","what":"Two-level sample selection — selectMatch","title":"Two-level sample selection — selectMatch","text":"Carries two-level sample selection possibility initially selected site wanting participate anticipated, site optimally replaced.  procedure aims reduce bias (/loss generalizability) respect target population.","code":""},{"path":"/reference/selectMatch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Two-level sample selection — selectMatch","text":"","code":"selectMatch(   df,   unitID,   subunitID,   subunitSampVars,   unitVars,   nUnitSamp,   nRepUnits,   nsubUnits,   exactMatchVars = NULL,   calipMatchVars = NULL,   calipValue = 0.2,   seedN = NA,   matchDistance = \"mahalanobis\",   sizeFlag = TRUE,   repFlag = TRUE,   writeOut = TRUE,   replacementUnitsFilename = \"replacementUnits.csv\",   subUnitTableFilename = \"subUnitTable.csv\" )"},{"path":"/reference/selectMatch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Two-level sample selection — selectMatch","text":"df dataframe; sub-unit level dataframe sub-unit unit level variables unitID character; name unit ID column subunitID character; name sub-unit ID column subunitSampVars vector;  column names unit level variables  sample units unitVars vector; column names unit level variables  match units nUnitSamp numeric; number units initially randomly selected nRepUnits numeric; number replacement units find selected unit nsubUnits numeric; number sub-units randomly selected unit exactMatchVars vector; column names categorical variables units must matched exactly. Must present 'unitVars'; default = NULL calipMatchVars vector; column names continuous variables units must matched within specified caliper. Must present 'unitVars'; default = NULL calipValue numeric; number standard deviations used caliper matching units calipMatchVars seedN numeric; seed number used sampling. NA, calls set.seed(); default = NA matchDistance character; MatchIt distance parameter obtain optimal matches (nearest neigboors); default = \"mahalanois\" sizeFlag logical; TRUE, sampling made proportional unit size; default = TRUE repFlag logical; TRUE, pick unit matches /without repetition; default = TRUE writeOut logical; TRUE, writes .csv file output table; default = TRUE replacementUnitsFilename character; csv filename saving unit:replacement directory writeOut == TRUE; default = \"replacementUnits.csv\" subUnitTableFilename character; csv filename saving unit:replacement directory writeOut == TRUE; default = \"subUnitTable.csv\"","code":""},{"path":"/reference/selectMatch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Two-level sample selection — selectMatch","text":"list : 1) table form: selected unit : (unit replacements), 2) table form: potential unit :(unit sub-units), 3) balance diagnostics.","code":""},{"path":"/reference/sitepickR-package.html","id":null,"dir":"Reference","previous_headings":"","what":"sitepickR: Two-level Sample Selection with Optimal Site Replacement — sitepickR-package","title":"sitepickR: Two-level Sample Selection with Optimal Site Replacement — sitepickR-package","text":"Carries two-level sample selection possibility initially selected site wanting participate anticipated, site optimally replaced. procedure aims reduce bias (/loss generalizability) respect target population.","code":""},{"path":"/reference/sitepickR-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sitepickR: Two-level Sample Selection with Optimal Site Replacement — sitepickR-package","text":"Maintainer: Elena Badillo-Goicoechea egoicoe1@jhu.edu Authors: Robert Olsen robolsen@gwu.edu Elizabeth Stuart estuart1@jhu.edu","code":""},{"path":"/reference/subUnitBalance.html","id":null,"dir":"Reference","previous_headings":"","what":"Sub-unit balance — subUnitBalance","title":"Sub-unit balance — subUnitBalance","text":"Sub-unit balance initially selected units units population, covariate interest","code":""},{"path":"/reference/subUnitBalance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sub-unit balance — subUnitBalance","text":"","code":"subUnitBalance(   smOut,   title = \"Subunits from Original and Replacement Unit Groups vs. Population (SMD)\" )"},{"path":"/reference/subUnitBalance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sub-unit balance — subUnitBalance","text":"smOut list; selectMatch() output title character; user-specified figure title","code":""},{"path":"/reference/subUnitBalance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sub-unit balance — subUnitBalance","text":"ggplot object","code":""},{"path":"/reference/unitLovePlot.html","id":null,"dir":"Reference","previous_headings":"","what":"Original units balance — unitLovePlot","title":"Original units balance — unitLovePlot","text":"Balance initially sampled units units population","code":""},{"path":"/reference/unitLovePlot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Original units balance — unitLovePlot","text":"","code":"unitLovePlot(   smOut,   title = \"Standardized Mean Difference: \\n Initially Selected Units vs. Population\" )"},{"path":"/reference/unitLovePlot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Original units balance — unitLovePlot","text":"smOut list; selectMatch() output title character; user-specified figure title","code":""},{"path":"/reference/unitLovePlot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Original units balance — unitLovePlot","text":"ggplot object","code":""}]
